5. Pruebas Específicas Importantes (Ejemplos de Enfoque):
• Enfoque en probar a fondo las funcionalidades críticas como:
    ◦ Ciclo completo de gestión de Pacientes (Crear, Ver, Editar, Archivar, Eliminar Suave):
        ▪ Creación de Perfiles: Se debe verificar la correcta creación de perfiles de paciente con todos sus datos demográficos y de contacto. Esto incluye probar la validación de campos obligatorios y formatos incorrectos, como el mensaje "Campo 'Nombre' requerido" o "Formato de email inválido".
        ▪ Visualización: Es crucial probar la capacidad de búsqueda instantánea de pacientes por cualquier campo (nombre, ID, palabra clave en notas) y que el sistema devuelva resultados precisos. También, verificar que el "Dashboard Principal" muestre a los "Pacientes Recientes" en una tabla con la información adecuada y opciones de "Acción" como "Ver Historial" o "Nueva Cita".
        ▪ Edición: Se debe asegurar que los datos de un paciente puedan ser modificados y guardados correctamente, y que estos cambios se reflejen en la base de datos.
        ▪ Registro Historial Clínico Detallado: Probar la adición de nuevas entradas cronológicas en el historial clínico de un paciente, verificando que se incluyan campos como "Fecha de Consulta", "Diagnóstico", "Notas de Evolución" y "Procedimientos y Tratamientos". Cada entrada debe vincularse al paciente específico.
        ▪ Archivar / Eliminar Suave: Un aspecto crítico es la implementación del "borrado suave" (soft delete). Las pruebas deben confirmar que, al seleccionar registros y hacer clic en "Eliminar", los datos no se borran permanentemente de la base de datos, sino que se marcan como inactivos o archivados (ej., is_deleted = true). Esto garantiza que la información no se pierda accidentalmente y se mantenga para auditoría o recuperación futura. Esta funcionalidad aborda la "saturación y dispersión de información" y la "dificultad en el seguimiento eficiente del paciente".
    ◦ Funcionalidades de Búsqueda y Filtrado (probar diferentes criterios, casos borde, búsqueda vacía):
        ▪ Búsqueda Avanzada: Se debe verificar la eficacia de la búsqueda por múltiples criterios (nombre, ID, palabra clave en notas) y a nivel global en la aplicación.
        ▪ Casos Borde y Búsqueda Vacía: Probar búsquedas con caracteres especiales, nombres muy largos/cortos, y especialmente qué ocurre cuando una búsqueda no encuentra resultados, asegurando que se muestre un mensaje claro como "No se encontraron pacientes".
        ▪ Filtros: El sistema ofrece opciones de filtrado avanzado (por fecha, estado, tipo de consulta) y una estructura de carpetas (General, Operaciones, Consultas, Laboratorio) que funciona como filtro. Se debe validar que al aplicar estos filtros, el contenido del área principal se actualice correctamente para mostrar solo los registros pertenecientes a la categoría seleccionada.
    ◦ Gestión Documental (Subir diferentes tipos de archivos, ver archivos, eliminar suave):
        ▪ Subida y Asociación: Probar la capacidad de subir, asociar y visualizar todo tipo de archivos digitales (PDF, imágenes, videos cortos) directamente en el expediente del paciente o en una entrada específica del historial clínico. Es crucial verificar que los archivos se almacenen en Cloud Storage y que estén "cifrados en reposo".
        ▪ Visualización: Comprobar el visor de archivos visuales, asegurando que el carrusel de vistas previas funcione correctamente y que los filtros de origen/tipo (Cloud Drives, Photos, Videos) funcionen como se espera.
        ▪ Manejo de Errores de Subida: Probar escenarios donde se intentan subir tipos de archivo no soportados, archivos que exceden el tamaño máximo, o fallos de conexión, y verificar que los mensajes de error sean claros (ej., "Tipo de archivo no válido", "Error al subir el archivo").
        ▪ Eliminación Suave: Al igual que con los pacientes, se debe verificar que los documentos se marquen como inactivos en lugar de eliminarse físicamente, manteniendo la integridad y seguridad de los datos.
    ◦ Gestión de Citas (Crear, Editar, Eliminar, probar con fechas pasadas/futuras):
        ▪ Creación y Agendamiento: Probar la creación de nuevas citas, verificando la correcta selección de paciente, fecha, hora, tipo de cita y estado (Programada, Confirmada, etc.). Es vital probar los escenarios de conflicto de horario para asegurar que se muestre el mensaje "Horario no disponible" si la hora ya está ocupada.
        ▪ Gestión de Citas Existentes: Probar las acciones de reprogramación, cancelación y cambio de estado de las citas (Confirmada, Atendida, Cancelada), asegurando que los cambios se reflejen correctamente en el calendario interactivo.
        ▪ Fechas Pasadas/Futuras: Asegurar que el sistema maneje correctamente la visualización y gestión de citas en el pasado y futuro, incluyendo la visualización de "Citas del Día" en el dashboard. Estas funcionalidades son clave para abordar los "procesos manuales que consumen tiempo" y la "falta de control ágil de visitas diarias".
    ◦ Todas las interacciones definidas con el Asistente Virtual (probar diferentes comandos/preguntas, verificar respuestas):
        ▪ Chat Interno: Probar las capacidades de interacción con el chat interno básico, incluyendo la realización de consultas rápidas, obtención de resúmenes de texto y redacción de informes, confirmando que solo funciona con texto y no genera archivos.
        ▪ Automatizaciones Básicas: Validar la redacción automatizada de correos electrónicos, la generación de hojas membretadas y la creación de recordatorios a través de la IA.
        ▪ Búsqueda Inteligente: Probar comandos en lenguaje natural para la búsqueda de archivos o información específica (ej., "Hola, estoy buscando un archivo me urge", "Recuerdas el nombre del paciente?", "Si!! es Laura Vargas").
        ▪ Recuperación y Acciones Contextuales: Verificar que el asistente localice los recursos y ofrezca acciones contextuales como enviar por correo o descargar.
        ▪ Automatización de Tareas: Confirmar que el asistente puede ejecutar acciones conectadas a las APIs del sistema, como enviar correos o generar borradores de documentos.
        ▪ Generación de Contenido para Capacitación: La IA (Gemma 3) puede ayudar a generar preguntas frecuentes (FAQs) para el manual de usuario, lo cual también debe ser probado.
    ◦ Pruebas de Seguridad: Intentar acceder a funcionalidades de Administrador con un usuario Asistente, intentar eliminar un registro con borrado fuerte si solo se permite borrado suave, probar inyecciones simples en campos de entrada.
        ▪ Control de Acceso Basado en Roles (RBAC): Realizar pruebas exhaustivas para asegurar que cada rol (Administrador, Admin Principal, Admin Secundario, Asistente, Invitado (Solo Lectura)) solo pueda acceder a las funcionalidades y la información correspondiente a sus permisos. Por ejemplo, un "Asistente" no debería poder gestionar usuarios o ver logs de auditoría. Este es un pilar fundamental para las "preocupaciones de seguridad de datos".
        ▪ Borrado Suave vs. Fuerte: Verificar que, incluso si se intenta una eliminación directa o "fuerte", el sistema aplique consistentemente el "borrado suave".
        ▪ Cifrado de Datos: Aunque las pruebas directas de cifrado pueden requerir acceso a la infraestructura, se debe confirmar que las contraseñas se almacenen "cifradas en reposo" (hashing) y que los "datos sensibles" en la base de datos (Cloud SQL) y el almacenamiento de archivos (Cloud Storage) estén "cifrados en reposo".
        ▪ Cifrado en Tránsito: Asegurar que toda la comunicación entre la aplicación de escritorio y la infraestructura en la nube utilice "HTTPS (TLS 1.3)" para cifrar los datos en tránsito.
        ▪ Logs de Auditoría: Verificar que cada intento de inicio de sesión (exitoso o fallido) y cada acción del usuario (ej., modificación de datos de paciente, creación de citas) se registre "cronológicamente" en el "Servicio de Logs de Auditoría" y que estos logs sean "inmutables (WORM)".
        ▪ Pruebas de Inyección: Aunque no se detalla cómo se realizará, es una buena práctica probar con "inyecciones simples en campos de entrada" para detectar vulnerabilidades comunes.
    ◦ Pruebas de Roles y Permisos: Crear matriz de permisos y probar que cada rol solo puede ejecutar las acciones permitidas.
        ▪ Matriz de Permisos: Se debe desarrollar una matriz detallada que especifique qué acciones y secciones son accesibles para cada rol: "Admin Principal" (control total, gestión de usuarios, ver logs), "Admin Secundario" (todo excepto gestión de usuarios y logs), "Asistente" (gestión de pacientes, citas, documentos, reportes), y "Invitado (Solo Lectura)" (ver pacientes, citas, reportes).
        ▪ Validación de Acciones: Ejecutar pruebas con usuarios de cada rol para confirmar que solo pueden realizar las acciones definidas por sus permisos y que se les niegue el acceso a funcionalidades restringidas, mostrando mensajes de error apropiados si intentan acceder a ellas.
    ◦ Pruebas de Borrado Suave: Verificar en la base de datos que los registros se marcan como inactivos y no se eliminan físicamente.
        ▪ Inspección de Base de Datos: Después de realizar operaciones de "eliminación" desde la interfaz de usuario, se debe acceder directamente a la base de datos (Cloud SQL) para confirmar que los registros correspondientes no han sido eliminados físicamente, sino que su estado ha cambiado a "inactivo" o que se ha establecido un indicador como is_deleted = true. Esto es crucial para la integridad de los datos y el cumplimiento de las políticas de seguridad.